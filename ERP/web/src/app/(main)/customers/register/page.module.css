/* Modal Overlay Styles - Added for PropertySelector */
.modalOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(2px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 3000;
    /* Ensure high z-index to cover everything */
}

.modalContent {
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
    border: none;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.container {
    display: flex;
    flex-direction: column;
    height: 100%;
    gap: 16px;
    padding: 24px;
    background: #e9ecef;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: white;
    padding: 12px 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.title {
    font-size: 18px;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #343a40;
}

.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    /* Two columns: Info, Contact/Needs */
    gap: 16px;
    flex: 1;
    /* Fill remaining height */
    overflow: hidden;
    /* For inner scrolling */
}

.panel {
    background: white;
    border: none;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.panelHeader {
    background: white;
    color: #343a40;
    padding: 16px 20px;
    font-size: 15px;
    font-weight: 700;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
    border-bottom: 1px solid #f1f3f5;
}

.panelContent {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

/* Form Styles */
.rowPair {
    display: flex;
    gap: 16px;
    margin-bottom: 12px;
}

.formRow {
    display: flex;
    margin-bottom: 12px;
    align-items: center;
    flex: 1;
    /* For use inside rowPair */
}

/* When inside rowPair, remove margin bottom from formRow since rowPair handles it? 
   Actually rowPair handles the reliable alignment. check below. */
.rowPair .formRow {
    margin-bottom: 0;
}

.label {
    width: 90px;
    font-size: 13px;
    font-weight: 600;
    color: #868e96;
    /* Subtle text instead of box */
    background: transparent;
    padding: 6px 12px 6px 0;
    /* Right padding, no background */
    border: none;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    /* Align right */
    flex-shrink: 0;
}

.inputWrapper {
    flex: 1;
    border: none;
    padding: 0;
    background: transparent;
    display: flex;
    align-items: center;
}

.input {
    width: 100%;
    border: 1px solid #e9ecef;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 6px;
    background: #f8f9fa;
    transition: all 0.2s ease;
}

.input:focus {
    outline: none;
    background: white;
    border-color: #4C6EF5;
    box-shadow: 0 0 0 3px rgba(76, 110, 245, 0.1);
}

.select {
    width: 100%;
    border: 1px solid #e9ecef;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 6px;
    background: #f8f9fa;
    transition: all 0.2s;
    cursor: pointer;
}

.select:focus {
    outline: none;
    background: white;
    border-color: #4C6EF5;
    box-shadow: 0 0 0 3px rgba(76, 110, 245, 0.1);
}

.textarea {
    width: 100%;
    height: 80px;
    border: 1px solid #e9ecef;
    padding: 12px;
    font-size: 13px;
    border-radius: 6px;
    resize: none;
    background: #f8f9fa;
    transition: all 0.2s;
}

.textarea:focus {
    outline: none;
    background: white;
    border-color: #4C6EF5;
    box-shadow: 0 0 0 3px rgba(76, 110, 245, 0.1);
}

/* Range Input Style (Min ~ Max) */
.rangeWrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
}

.rangeInput {
    flex: 1;
    min-width: 0;
    /* Allow shrinking */
    border: 1px solid #e9ecef;
    padding: 8px;
    font-size: 13px;
    text-align: right;
    border-radius: 6px;
    background: #f8f9fa;
}

.rangeInput:focus {
    outline: none;
    background: white;
    border-color: #4C6EF5;
}

/* Radio Group (Grade/Gender) */
.radioGroup {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: center;
}

.radioLabel {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #495057;
    cursor: pointer;
    background: #f1f3f5;
    padding: 4px 10px;
    border-radius: 20px;
    transition: all 0.2s;
}

.radioLabel:hover {
    background: #e9ecef;
}

/* Make selected radio label look active if possible without JS? 
   Hard to do perfectly without changing JSX class logic, but simple hover is nice. */

/* Footer Action Bar */
.footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px 32px 20px;
    background: white;
    border-top: 1px solid #f1f3f5;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
}

.footerLeft,
.footerRight {
    display: flex;
    gap: 10px;
}

.footerBtn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1px solid #e9ecef;
    background-color: #fff;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    color: #495057;
    transition: all 0.2s;
}

.footerBtn:hover {
    background-color: #f8f9fa;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.btn {
    padding: 8px 20px;
    border: 1px solid #e9ecef;
    background: white;
    cursor: pointer;
    border-radius: 8px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    transition: all 0.2s;
}

.btnPrimary {
    background: #4C6EF5;
    color: white;
    border-color: #4C6EF5;
    box-shadow: 0 2px 8px rgba(76, 110, 245, 0.2);
}

.btnPrimary:hover {
    background: #4263EB;
    transform: translateY(-1px);
}

.btnDelete {
    color: #e03131;
    border-color: #ffc9c9;
    background: #fff5f5;
}

.btnDelete:hover {
    background: #ffe3e3;
    border-color: #ffa8a8;
}

/* Section Header in Content */
.sectionHeader {
    font-size: 14px;
    font-weight: 700;
    color: #343a40;
    margin: 24px 0 12px 0;
    padding-bottom: 8px;
    border-bottom: 2px solid #f1f3f5;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Styles for Right Panel Tables */
.tableContainer {
    width: 100%;
    overflow-x: auto;
    border-radius: 8px;
    border: 1px solid #f1f3f5;
}

.historyTable {
    width: 100%;
    font-size: 13px;
    border-collapse: collapse;
    text-align: center;
}

.historyTable th {
    background: #f8f9fa;
    border-bottom: 1px solid #f1f3f5;
    padding: 10px;
    font-weight: 600;
    color: #495057;
}

.historyTable td {
    border-bottom: 1px solid #f1f3f5;
    padding: 10px;
    color: #495057;
}

.historyTable tr:last-child td {
    border-bottom: none;
}

/* Small Buttons in Header */
.headerBtn {
    padding: 4px 10px;
    font-size: 12px;
    border-radius: 6px;
    cursor: pointer;
    border: 1px solid transparent;
    font-weight: 500;
    transition: all 0.2s;
}

.headerBtnPrimary {
    background: #e7f5ff;
    color: #228BE6;
}

.headerBtnPrimary:hover {
    background: #d0ebff;
}

.headerBtnAdd {
    background: #339af0;
    color: white;
    border: 1px solid #339af0;
}

.headerBtnAdd:hover {
    background: #228be6;
}

.panelHeaderBlue {
    background: white;
    /* Changed to white for consistency */
    color: #343a40;
    padding: 16px 20px;
    font-size: 15px;
    font-weight: 700;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
    border-bottom: 1px solid #f1f3f5;
}

.footerNav {
    display: flex;
    gap: 4px;
    align-items: center;
}


.propertySelectorModal {
    width: 95%;
    max-width: 1400px;
    height: 85vh;
}

/* Mobile Responsive */
/* Mobile Responsive */
@media (max-width: 768px) {
    .propertySelectorModal {
        width: 90% !important;
        /* Popup width */
        height: 80vh !important;
        /* Popup height */
        max-width: 500px;
        /* Optional cap */
        border-radius: 12px !important;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        /* Popup shadow */
        border: none;
        margin: auto;
        /* Centering helper */
    }

    /* Ensure overlay allows centering */
    .modalOverlay {
        padding: 16px;
        align-items: center;
        justify-content: center;
    }

    /* Property Selector Filter Styles */
    .filterWrapper {
        flex-direction: column !important;
        background: #f8f9fa !important;
        gap: 8px !important;
        padding: 8px 12px !important;
    }

    /* Grid Layout for Filters */
    .filtersGrid {
        display: grid !important;
        grid-template-columns: 1fr 1fr;
        /* 2 Columns */
        gap: 8px !important;
        width: 100%;
    }

    .filterItem {
        width: 100%;
        gap: 4px;
        font-size: 13px;
        background: white;
        padding: 6px;
        border-radius: 6px;
        border: 1px solid #dee2e6;
    }

    /* Make inputs small and flexible */
    .filterItem input {
        width: 100% !important;
        /* Override inline styles */
        min-width: 0 !important;
        flex: 1;
        padding: 4px;
        height: 28px;
        /* Compact height */
        font-size: 13px;
    }

    .unitText {
        font-size: 12px;
        white-space: nowrap;
        color: #868e96;
    }

    /* Search Bar Area */
    .searchBarContainer {
        width: 100% !important;
        padding-top: 8px;
        border-top: 1px dashed #e9ecef;
        flex-wrap: wrap;
        /* Allow reset button to wrap if really needed */
    }

    .searchBarContainer .inputWrapper {
        width: 100% !important;
        /* Full width search */
        border-left: none !important;
    }

    .container {
        padding: 12px;
        gap: 12px;
        height: 100%;
        /* Fixed height to match modal */
        min-height: 0;
        overflow: hidden;
        /* Prevent body scroll */
        display: flex;
        flex-direction: column;
    }

    .modalContent {
        width: 100%;
        height: 100%;
        border-radius: 0;
    }

    .header {
        position: relative;
        /* Not sticky, top of flex */
        top: auto;
        padding: 12px;
        flex-shrink: 0;
        z-index: 10;
        background: white;
    }

    .grid {
        display: flex;
        flex-direction: column;
        grid-template-columns: 1fr;
        overflow-y: auto;
        /* Scroll INSIDE grid */
        overflow-x: hidden;
        gap: 20px;
        flex: 1;
        /* Take remaining space */
        min-height: 0;
        padding-bottom: 20px;
    }

    .panel {
        height: auto;
        overflow: visible;
        border-radius: 8px;
        flex-shrink: 0;
    }

    .panelContent {
        padding: 12px;
        max-height: none;
        /* Let content grow fully inside scrollable grid */
        overflow-y: visible;
        overflow-x: auto;
    }

    .panelHeader,
    .panelHeaderBlue {
        flex-wrap: wrap;
        gap: 8px;
        height: auto;
        padding: 12px;
    }

    /* Wrap right-side actions in header if needed */
    .panelHeader>div,
    .panelHeaderBlue>div {
        flex-shrink: 1;
        min-width: 0;
        max-width: 100%;
    }

    /* Fix Range Input Overflow */
    .rangeWrapper>div {
        min-width: 0;
        flex: 1;
    }

    .rangeWrapper {
        width: 100%;
        max-width: 100%;
    }

    .inputWrapper {
        width: 100%;
        max-width: 100%;
    }

    /* Table Compact View */
    .historyTable th,
    .historyTable td {
        padding: 8px 4px;
        font-size: 12px;
        white-space: nowrap;
    }

    /* Footer Compact Layout */
    .footer {
        flex-direction: row;
        /* Allow wrapping */
        flex-wrap: wrap;
        gap: 8px;
        padding: 8px 12px;
        position: relative;
        bottom: auto;
        border-top: 1px solid #dee2e6;
        flex-shrink: 0;
        background: white;
        z-index: 10;
    }

    /* Row 1: Navigation */
    .footerNav {
        width: 100%;
        display: flex;
        justify-content: center;
        order: 1;
        margin-bottom: 8px;
        border-bottom: 1px solid #f1f3f5;
        padding-bottom: 8px;
    }

    /* Row 2: Actions */
    .footerActions {
        display: flex;
        flex-direction: row;
        width: 100%;
        gap: 8px;
        order: 2;
    }

    .footerBtn {
        flex: 1;
        justify-content: center;
        padding: 0 4px;
        height: 40px;
        white-space: nowrap;
        font-size: 13px;
    }

    .mobileHidden {
        display: none !important;
    }

    .footerBtn,
    .btnDelete {
        flex: 1;
        justify-content: center;
        padding: 0 4px;
        height: 40px;
        /* Slightly compact */
        white-space: nowrap;
        font-size: 13px;
    }

    /* Navigation specific */
    .footerNav .footerBtn {
        flex: 0 0 auto;
        width: 40px;
        height: 36px;
        padding: 0;
    }

    /* Form rows */
    .formRow {
        flex-direction: column;
        align-items: stretch;
        gap: 4px;
    }

    .label {
        width: 100%;
        text-align: left;
        justify-content: flex-start;
        padding-bottom: 0;
    }

    .rowPair {
        flex-direction: column;
        gap: 12px;
    }
}